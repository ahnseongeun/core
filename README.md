##스프링 컨테이너 생성

- 스프링 컨테이너를 생성할 때는 구성 정보를 지정해주어야 한다.
    - new AnnotationConfigApplicationContext(AppConfig.class)
    - AppConfig.class가 구성 정보
    
- 스프링 컨테이너는 파라미터로 넘어온 설정 클래스 정보를 사용해서 스프링 빈을 등록한다.

## 싱글톤 컨테이너
- 스프링 컨테이너는 싱글톤 패턴의 문제점을 해결하면서, 객체 인스턴스를 싱글톤으로 관리한다.
    - 기존 싱글톤 패턴의 문제점
    1. 싱글톤 작성 코드가 길어진다.
    2. 클래스 내부에서 객체를 직접 생성하기 때문에 OCP, DIP 위반
    3. 테스트가 어렵다.
- 스프링 컨테이너는 싱글톤 객체를 생성하고, 관리하는 기능을 하며 지저분한 코드가 들어가지 않아도 되고,
DIP, OCP, 테스트, private 생성자로 부터 자유롭게 싱글톤을 사용할 수 있다.
  
## 싱글톤 방식의 주의점
- 싱글톤 방식은 객체 인스턴스를 하나만 생성해서 공유하는 방식이기 때문에 여러 클아이언트가
하나의 같은 객체 인스턴스를 공유한다. 그래서 싱글톤 객체는 상태(stateful)를 유지하게 설계하면 안된다.
    - 특정 클라이언트에 의존적인 필드가 있으면 안된다.
    - 특정 클라이언트가 값을 변경할 수 있는 필드가 있으면 안된다.
    - 가급적 읽기만 가능해야 한다.
    - 필드 대신에 자바에서 공유되지 않는, 지역변수, 파라미터, ThreadLocal 등을 사용
    
## @Configuration와 싱글톤
- @Configuration에서 @bean으로 등록된 객체가 다른 @bean에서 해당 bean을 호출했을 때
bean을 호출할 때마다 new가 사용되는데 스프링은 어떻게 싱글톤 보장을 하는 것일까??
  

    
